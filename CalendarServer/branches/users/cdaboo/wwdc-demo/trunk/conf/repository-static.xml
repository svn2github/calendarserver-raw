<?xml version="1.0" encoding="utf-8"?>

<!--
Copyright (c) 2006 Apple Computer, Inc. All rights reserved.

This file contains Original Code and/or Modifications of Original Code
as defined in and that are subject to the Apple Public Source License
Version 2.0 (the 'License'). You may not use this file except in
compliance with the License. Please obtain a copy of the License at
http://www.opensource.apple.com/apsl/ and read it before using this
file.

The Original Code and all software distributed under the License are
distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
Please see the License for the specific language governing rights and
limitations under the License.
 -->

<!DOCTYPE repository SYSTEM "repository.dtd">

<repository>

  <docroot>
    <collection>
      <pytype>DAVFile</pytype>
      <properties>
        <acl>
          <ace>
            <principal><authenticated/></principal>
            <grant><privilege><read/></privilege></grant>
            <protected/>
          </ace>
          <ace>
            <principal><href>/principals/users/admin</href></principal>
            <grant><privilege><all/></privilege></grant>
            <protected/>
            <inheritable/>
          </ace>
        </acl>
      </properties>
      <members>
        <collection name="principals">
          <pytype>CalendarPrincipalProvisioningResource</pytype>
          <properties>
            <acl>
              <ace>
                <principal><authenticated/></principal>
                <grant><privilege><read/></privilege></grant>
                <protected/>
              </ace>
            </acl>
          </properties>
          <members>
            <collection name="users" tag="principals">
              <pytype>CalendarUserPrincipalProvisioningResource</pytype>
              <properties>
                <acl>
                  <ace>
                    <principal><authenticated/></principal>
                    <grant><privilege><read/></privilege></grant>
                    <protected/>
                  </ace>
                </acl>
              </properties>
              <members/>
            </collection>
          </members>
        </collection>
        <collection name="calendars">
          <pytype>CalDAVFile</pytype>
          <properties>
            <acl>
              <ace>
              <principal><authenticated/></principal>
              <grant><privilege><read/></privilege></grant>
              <protected/>
              </ace>
            </acl>
          </properties>
          <members>
            <collection name="users" tag="calendars">
              <pytype>CalendarHomeProvisioningFile</pytype>
              <properties>
                <acl>
                  <ace>
                    <principal><authenticated/></principal>
                    <grant><privilege><read/></privilege></grant>
                    <protected/>
                  </ace>
                </acl>
              </properties>
              <members/>
            </collection>
            <collection name="shared">
              <properties>
                <acl>
                  <ace>
                    <principal><unauthenticated/></principal>
                    <grant><privilege><read/></privilege></grant>
                    <protected/>
                    <inheritable/>
                  </ace>
                  <ace>
                    <principal><authenticated/></principal>
                    <grant><privilege><read/></privilege></grant>
                    <protected/>
                    <inheritable/>
                  </ace>
                </acl>
              </properties>
              <members/>
            </collection>
          </members>
        </collection>
      </members>
    </collection>
  </docroot>

  <accounts>
    <user>
      <uid>admin</uid>
      <pswd>admin</pswd>
      <name>Super User</name>
    </user>
    <!--
    <user repeat='99'>
      <uid>user%02d</uid>
      <pswd>user%02d</pswd>
      <name>User %02d</name>
      <calendar>calendar</calendar>
    </user>
    <user repeat='10'>
      <uid>public%02d</uid>
      <pswd/>
      <name>Public %02d</name>
      <calendar>calendar</calendar>
      <acl>
        <ace>
          <principal><all/></principal>
          <grant><privilege><all/></privilege></grant>
          <protected/>
          <inheritable/>
        </ace>
      </acl>
    </user>
    <user repeat='10'>
      <uid>resource%02d</uid>
      <pswd/>
      <name>Room %02d</name>
      <calendar>calendar</calendar>
      <acl>
        <ace>
          <principal><all/></principal>
          <grant><privilege><all/></privilege></grant>
          <protected/>
          <inheritable/>
        </ace>
      <autorespond/>
      </acl>
    </user>
     -->
  </accounts>

</repository>
